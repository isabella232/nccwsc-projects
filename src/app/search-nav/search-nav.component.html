<div class="row search">
  <h4>Search</h4>
  <div class="col-xs-12">
    <form class="ui form row">
      <div class="field">
        <input type="text" id="queryTerms" [(ngModel)]="searchQuery" value="searchQuery" placeholder="Search terms ..." name="queryTerms">
      </div>
      <div class="field">
        <ng-select placeholder="Topic" [options]="topics" [(ngModel)]="selectedTopic" (selected)="onTopicsChange($event.value)" [ngModelOptions]="{standalone: true}"></ng-select>
      </div>
      <div class="field">
        <ng-select placeholder="Subtopics" *ngIf="subtopics.length > 0" [options]="subtopics" (selected)="onSubtopicsChange($event.value)" [multiple]="true" [(ngModel)] = "selectedSubtopics" [ngModelOptions]="{standalone: true}"></ng-select>
      </div>
      <div class="field">
        <ng-select placeholder="NCCWSC/CSCs" [(ngModel)]="selectedOrgs" [options]="orgs" [multiple]="true" (selected)="onOrgsChange($event.value)" [ngModelOptions]="{standalone: true}"></ng-select>
      </div>
      <div class="float-right">
        <button (click)="resetQuery()" class="btn btn-sm btn-warning">Reset Query</button>
        <button (click)="onSubmit()" class="btn btn-sm btn-success">Search</button>
      </div>
    </form>
  </div>
  <div class="filters" *ngIf="resultOrgs.length > 0">
    <h4>Filters</h4>
    <div class="field">
      <ng-select placeholder="All Organizations" [options]="resultOrgs" (selected)="onOrgSourceChange($event.label)" [(ngModel)]="filteredOrg"></ng-select>
    </div>
    <div class="field">  

      <ng-select placeholder="All Types" [options]="resultTypes" (selected)="onTypeSourceChange($event.label)" [(ngModel)]="filteredType"></ng-select>
      </div>
    <div class="field">  
      <ng-select placeholder="All Fiscal Years" [options]="resultFY" (selected)="onFYSourceChange($event.label)" [(ngModel)]="filteredFY"></ng-select>
      </div>
    <div class="field">  
      <ng-select placeholder="All Statuses" [options]="resultStatus" (selected)="onStatusSourceChange($event.label)" [(ngModel)]="filteredStatus"></ng-select>
    </div>
    <div class="field">  
      <button (click)="resetFilters()" class="btn btn-sm btn-warning">Reset Filters</button>
    </div>
  </div>
</div>